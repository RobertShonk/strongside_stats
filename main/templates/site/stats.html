{% extends 'base.html' %}

{% block title %}Player Stats{% endblock %}

{% block nav_search %}
    <form class="nav_search">
        <input type="text" id="search_name" name="search_name" placeholder="Enter name">
        <input type="submit" value="Enter">
    </form>
{% endblock %}

{% block content %}
    <div class="player_card">
        <p>{{ session['summoner_name'] }}</p>
        {% if method == 'POST' %}
            <p>{{ leagues[1]['queueType'] }}: {{ leagues[1]['tier'] }} {{ leagues[1]['rank'] }}</p>
        {% else %}
            {% if method == 'redirect' %}
                <p>Error using riot api. Summoner name and tagline may be incorrect or player may not exist.</p>
            {% endif %}
        {% endif %}

        <form class="stats_update" action="{{ url_for('site.stats') }}" method="post">
            <input type="text" name="summoner_name" value="{{ session['summoner_name'] }}" hidden>
            <input type="text" name="tagline" value="{{ session['tagline'] }}" hidden>
            <input type="submit" value="Update">
        </form>
    </div>

    <div class="matches">
        {% for match in metadata %}
            <div class="match">
                {{ match['platformId'] }}
            </div>
        {% endfor %}
    </div>
    
{% endblock %}